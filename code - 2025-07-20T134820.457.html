<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×›×œ×™ ×œ× ×™×”×•×œ ×©×™×— ×‘×™×Ÿ ××“×¨×™×›×ª ×”×›×œ×” ×œ×× ×”×œ/×ª ×‘×™×ª ×¡×¤×¨</title>
    
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Font for Hebrew -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles for font and printing -->
    <style>
        body {
            font-family: 'Assistant', sans-serif;
        }
        .tooltip {
            position: relative;
            display: inline-block;
        }
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 240px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            bottom: 125%;
            left: 50%;
            margin-left: -120px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        @media print {
            body {
                background-color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .no-print {
                display: none !important;
            }
            .print-container {
                max-width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            .print-content {
                box-shadow: none !important;
                border: none !important;
                padding: 1rem !important;
            }
            .page-break-inside-avoid {
                page-break-inside: avoid;
            }
            .tooltip {
                border-bottom: none;
            }
            .tooltip .tooltiptext {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="root"></div>

    <!-- React Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel to transpile JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      const Tooltip = ({ text, children }) => (
        <span className="tooltip" style={{borderBottom: '1px dotted black'}}>
          {children}
          <span className="tooltiptext">{text}</span>
        </span>
      );

      const InclusionPlanningTool = () => {
        const [view, setView] = useState('initial'); // initial, domains, additionalData, summary
        const [currentDomain, setCurrentDomain] = useState(0);
        const [selectedItems, setSelectedItems] = useState({});
        const [selectedPractices, setSelectedPractices] = useState({});
        const [customPractices, setCustomPractices] = useState({});
        
        const [schoolName, setSchoolName] = useState('');
        const [principalName, setPrincipalName] = useState('');
        const [mentorName, setMentorName] = useState('');
        const [coordinatorName, setCoordinatorName] = useState('');
        const [guidanceHours, setGuidanceHours] = useState('');
        const [guidanceYears, setGuidanceYears] = useState('');
        const [schoolData, setSchoolData] = useState('');
        const [challenges, setChallenges] = useState('');
        const [additionalResources, setAdditionalResources] = useState('');

        const [globalPartners, setGlobalPartners] = useState({});
        const [customGlobalPartner, setCustomGlobalPartner] = useState('');
        const [selectedTrainingPractices, setSelectedTrainingPractices] = useState({});
        
        const contentRef = useRef(null);

        const partnersList = [
            '×× ×”×œ/×ª ×‘×™×ª ×¡×¤×¨', '×¨×›×–×ª ×”×›×œ×”', '××“×¨×™×›×ª ×”×›×œ×”', '×¨×›×–×ª ×”×¢×¨×›×” ×•××“×™×“×”', 
            '×¨×›×–×ª ×¤×“×’×•×’×™×ª', '×™×•×¢×¦×ª ×‘×™×ª ×”×¡×¤×¨', '×¡×’×Ÿ/×™×ª ×× ×”×œ/×ª ×‘×™×ª ×”×¡×¤×¨', 
            '××—× ×›×ª ×”×›×™×ª×”', '×¤×¡×™×›×•×œ×•×’×™×ª', '××•×¨×” ××§×¦×•×¢×™×ª', '××•×¨×ª ×©×™×œ×•×‘'
        ];

        const teacherTrainingPractices = [
            '×œ×™×•×•×™ ××•×¨×•×ª ×‘×¦×•×•×ª ×”×—×™× ×•×›×™ ×‘×ª×›× ×•×Ÿ ×”×©×™×¢×•×¨', '×—×©×™×¤×ª ×•×”×“×’××ª ××ª×•×“×•×ª ×‘×—×“×¨ ×”××•×¨×™×',
            '×¦×¤×™×™×” ×‘×©×™×¢×•×¨×™× ×•××ª×Ÿ ××©×•×‘', '×™×¦×™×¨×ª ×§×”×™×œ×” ×¢× ×ª×”×œ×™×›×™ ×¨×¤×œ×§×¦×™×”',
            '××•×“×œ×™× ×’', '×”×œ×™×›×” ×œ×™××•×“×™×ª', '×œ×™×•×•×™ ×× ×”×™×’×•×ª ×”×‘×™× ×™×™× ×‘×”×•×‘×œ×ª ×ª×”×œ×™×›×™×', '××—×¨'
        ];
        
        const domains = [
          {
            id: 'arena1',
            title: '×”×œ"×” ×‘×›×™×ª×” ×”×”×˜×¨×•×’× ×™×ª',
            subtopics: [
              {
                id: 'planning_instruction',
                title: '×ª×›× ×•×Ÿ ×”×•×¨××” ××›×•×•× ×ª ×©×•× ×•×ª ×•×¦×•×¨×š (×¢×™×¦×•×‘ ××•× ×™×‘×¨×¡×œ×™ ×œ×œ××™×“×”)',
                expectedOutcomes: [
                  { text: '×”×¢×œ××ª ××—×•×– ×”×ª×œ××™×“×™× ×”××¢×•×¨×‘×™× ×•×¤×¢×™×œ×™× ×‘×©×™×¢×•×¨' },
                  { 
                    text: '×¢×œ×™×™×” ×‘××—×•×– ×”××•×¨×•×ª ×”××“×•×•×—×•×ª ×¢×œ ×©×™××•×© ×‘××ª×•×“×•×ª ×”××–×× ×•×ª ××¢×•×¨×‘×•×ª ××ª××©×›×ª ×‘×©×™×¢×•×¨:', 
                    selectablePractices: ['×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×”×•×¨××” ××¤×•×¨×©×ª', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×¤×¢×™×œ×” ×•××¤×—×™×ª×•×ª ××¢"×', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×”×¡×¨×ª ×—×¡××™ ×œ××™×“×” ×•××¢×•×¨×‘×•×ª', '×¤×¨×§×˜×™×§×•×ª ×œ×§×™×“×•× ×ª×¤×§×•×“×™× × ×™×”×•×œ×™×™×', '××—×¨'] 
                  },
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”××•×¨×•×ª ×”××“×•×•×—×•×ª ×¢×œ ×ª×›× ×•×Ÿ ×”×©×™×¢×•×¨×™× ×‘×”×ª×××” ×œ×¢×§×¨×•× ×•×ª ×”-UDL (×§×™×©×•×¨ ×œ×›×œ×™ ×ª×›× ×•×Ÿ ×©×™×¢×•×¨ UDL)' },
                  { text: '×©×™×¤×•×¨ ×‘×”×™×©×’×™× ×©×œ ×ª×œ××™×“×™× ×‘××™×§×•×“' }
                ]
              },
              {
                id: 'pedagogical_flexibility',
                title: '×’××™×©×•×ª ×¤×“×’×•×’×™×ª (4 ×”×××¨×’× ×™×)',
                expectedOutcomes: [
                  { 
                    text: '×¢×œ×™×™×” ×‘××—×•×– ×”××•×¨×™× ×”××“×•×•×—×™× ×¢×œ ×©×™××•×© ×¨×‘ ×™×•×ª×¨ ×‘×¢×§×¨×•× ×•×ª ×©×œ ×’××™×©×•×ª ×¤×“×’×•×’×™×ª ×•×ª×›× ×•×Ÿ ×™×•× ×•×©×‘×•×¢ ×”×œ××™×“×”:', 
                    selectablePractices: ['×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×‘×”×¨×›×‘×™× ×©×•× ×™× (××¨×’×•×Ÿ ×”×œ×•××“×™×)', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×‘××¨×—×‘×™× ×©×•× ×™× (××¨×’×•×Ÿ ×”××¨×—×‘)', '×¤×¨×§×˜×™×§×•×ª ×œ××¨×’×•×Ÿ ×–××Ÿ ×”×œ××™×“×”', '×¤×¨×§×˜×™×§×•×ª ×œ××¨×’×•×Ÿ ×ª×›× ×™ ×”×œ××™×“×”', '××—×¨']
                  }
                ]
              },
              {
                id: 'classroom_management',
                title: '× ×™×”×•×œ ×›×™×ª×”',
                expectedOutcomes: [
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”××•×¨×™× ×”××“×•×•×—×™× ×¢×œ ×ª×—×•×©×ª ××¡×•×’×œ×•×ª ×’×‘×•×”×” ×™×•×ª×¨ ×œ× ×™×”×•×œ ×›×™×ª×” ×”×˜×¨×•×’× ×™×ª' },
                  { text: '×™×¨×™×“×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××•×©×¢×™×' },
                  { 
                    text: '×¢×œ×™×™×” ×‘××—×•×– ×”××•×¨×•×ª ×”××“×•×•×—×•×ª ×¢×œ ×©×™××•×© ×‘××ª×•×“×•×ª ×”××–×× ×•×ª ××¢×•×¨×‘×•×ª ××ª××©×›×ª ×‘×©×™×¢×•×¨:',
                    selectablePractices: ['×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×¤×¢×™×œ×” ×•××¤×—×™×ª×•×ª ××¢"×', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×”×¡×¨×ª ×—×¡××™ ×œ××™×“×” ×•××¢×•×¨×‘×•×ª', '×¤×¨×§×˜×™×§×•×ª ×œ×§×™×“×•× ×ª×¤×§×•×“×™× × ×™×”×•×œ×™×™×', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×‘×”×¨×›×‘×™× ×©×•× ×™×', '×›×œ×™ ×œ×ª×›× ×•×Ÿ ×©×™×¢×•×¨ ××‘×•×¡×¡ ×ª×¤×™×¡×ª UDL', '×¤×¨×§×˜×™×§×•×ª ×œ×¢×‘×•×“×” ×¢× ×ª×œ××™×“×™× ×××ª×’×¨×™×', '××—×¨']
                  }
                ]
              },
              {
                id: 'inclusive_practices_application',
                title: '×™×™×©×•× ×¤×¨×§×˜×™×§×•×ª ××›×œ×™×œ×•×ª',
                expectedOutcomes: [
                  { 
                    text: '×¢×œ×™×™×” ×‘××¡×¤×¨ ×”××•×¨×™× ×”××™×™×©××™× ×¤×¨×§×˜×™×§×•×ª ××›×œ×™×œ×•×ª ×‘××•×¤×Ÿ ×¢×§×‘×™:', 
                    selectablePractices: ['×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×”×•×¨××” ××¤×•×¨×©×ª', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×œ××™×“×” ×¤×¢×™×œ×” ×•××¤×—×™×ª×•×ª ××¢"×', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ×”×¡×¨×ª ×—×¡××™ ×œ××™×“×” ×•××¢×•×¨×‘×•×ª', '×¤×¨×§×˜×™×§×•×ª ×”××§×“××•×ª ××©×•×‘ ×•×”×¢×¨×›×” ××›×•×•× ×™ ×©×•× ×•×ª', '×¤×¨×§×˜×™×§×•×ª ×œ×§×™×“×•× ×ª×¤×§×•×“×™× × ×™×”×•×œ×™×™×', '×¤×¨×§×˜×™×§×•×ª ×œ×”×¢××“×ª ×”×”×™×›×¨×•×ª ×”×”×•×œ×™×¡×˜×™×ª ×¢× ×”×ª×œ××™×“', '×¤×¨×§×˜×™×§×•×ª ×œ×§×™×“×•× ××•×˜×™×‘×¦×™×”', '×¤×¨×§×˜×™×§×•×ª ×œ×§×™×“×•× ×©×™×— ×¤×“×’×•×’×™', '××—×¨'] 
                  }
                ]
              },
              {
                id: 'assessment_feedback',
                title: '××©×•×‘ ×•×”×¢×¨×›×” ××›×•×•× ×™ ×©×•× ×•×ª',
                expectedOutcomes: [
                  { text: '×¨×›×™×‘×™ ×”×ª×¢×•×“×” ××©×§×¤×™× ××ª ×ª×¤×™×¡×ª ×”×”×›×œ×”' },
                  { 
                    text: '×¢×œ×™×™×” ×‘×©×™××•×© ×‘××’×•×•×Ÿ ×›×œ×™ ×”×¢×¨×›×” ×¤× ×™××™×™×:',
                    practiceListTitle: '×‘×—×™×¨×ª ×¤×¨×§×˜×™×§×•×ª ×©×œ ×ª×”×œ×™×›×™ ×”×¢×¨×›×” ×•××©×•×‘:',
                    selectablePractices: ['×¤×¨×§×˜×™×§×•×ª ×©×œ ×ª×”×œ×™×›×™ ×”×¢×¨×›×” ×•××©×•×‘ ××›×•×•× ×™ ×©×•× ×•×ª', '××—×¨']
                  },
                  { text: '××ª×§×™×™× ×©×™×— ×œ×œ××™×“×” ×× ×ª×•× ×™× ×œ×¦×•×¨×š ×ª×›× ×•×Ÿ ×ª×”×œ×™×›×™ ××©×•×‘ ×•×”×¢×¨×›×” ××›×•×•× ×™ ×©×•× ×•×ª' }
                ]
              },
              {
                id: 'focused_student_work',
                title: '×¢×‘×•×“×” ×¢× ×ª×œ××™×“×™× ×‘××™×§×•×“',
                expectedOutcomes: [
                  { text: '×©×™×¤×•×¨ ×‘××¤×§×˜×™×‘×™×•×ª ×ª×›× ×™×•×ª ×”×¢×‘×•×“×” ×¢×‘×•×¨ ×ª×œ××™×“×™× ×‘××™×§×•×“ (×©××™× × ×–×›××™ ×©×™×¨×•×ª×™ ×—×™× ×•×š ××™×•×—×“×™×)' }
                ]
              }
            ]
          },
          {
            id: 'arena2',
            title: '×ª×¨×‘×•×ª ×•××“×™× ×™×•×ª ×”×›×œ×” ×‘×™×ª ×¡×¤×¨×™×ª',
            subtopics: [
              {
                id: 'inclusive_vision',
                title: '×‘×™×¡×•×¡ ×ª×¤×™×¡×” ××›×™×œ×” ×•×ª×¨×’×•××” ×œ×ª×”×œ×™×›×™× ×‘×™×ª-×¡×¤×¨×™×™×',
                expectedOutcomes: [
                  { text: '×ª×›× ×•×Ÿ ×”××¢× ×™× ×‘×¨××™×™×” ×‘×™×ª ×¡×¤×¨×™×ª ×™×™×¢×©×” ×‘×”×ª×× ×œ××•×“×œ ×”-MTSS' },
                  { 
                    text: '×¢×œ×™×™×” ×‘×©×™××•×© ×©×œ ×¦×•×•×ª ×”××•×¨×™× ×‘××•×©×’×™×, ×¢×§×¨×•× ×•×ª ×•×©×™×— ××¢×•×œ× ×”×”×›×œ×”:',
                    practiceListTitle: '×‘×—×™×¨×ª ××•×©×’×™×/×¢×§×¨×•× ×•×ª:',
                    selectablePractices: ['×”×›×œ×œ×”', '×©×•×ª×¤×•×ª ×¢× ×”×•×¨×™×', '×¢×™×¦×•×‘ ××•× ×™×‘×¨×¡×œ×™', '×¤×¡×™×›×•×¤×“×’×•×’×™×”', '×™×—×¡×™ ×§×¨×‘×” ×•××›×¤×ª×™×•×ª', '×ª×¨×‘×•×ª ××“×™× ×™×•×ª ×•×™×™×©×•×', '×—×¡××™ ×œ××™×“×” ×•×”×©×ª×ª×¤×•×ª', '×”×•×¨×“×ª ×–××Ÿ ××¢"× (×¦××¦×•× ×©×œ×‘ ×”×”×§×“××” ×œ×˜×•×‘×ª ××§×¡×•× ×–××Ÿ ×”×œ××™×“×” ×”×¤×¢×™×œ×”)', '×”×›×œ×” ×¤×“×’×•×’×™×ª', '×ª×•×›× ×™×ª ×¢×‘×•×“×” ××¨×•×‘×“×ª', '××—×¨'] 
                  },
                  { 
                    text: '×”×¦×•×•×ª ××‘× ×” ××“×™× ×™×•×ª ××©×•×ª×¤×ª ×œ×‘×™×¡×•×¡ ×ª×¨×‘×•×ª ××›×™×œ×” ×•×™×™×©×•××” (×œ×”×œ×Ÿ ××‘×—×¨ ×“×•×’×××•×ª ×œ×”×˜××¢×”):',
                    practiceListTitle: '×“×•×’×××•×ª ×œ×”×˜××¢×ª ××“×™× ×™×•×ª ×‘×™×ª-×¡×¤×¨×™×ª:',
                    selectablePractices: ['×“×™××œ×•×’ ×¢× ×”×”×•×¨×™× ×”××•×©×ª×ª ×¢×œ ×¢×§×¨×•× ×•×ª ××›×™×œ×™× (××¡×™×¤×•×ª ×”×•×¨×™×, ×©×™×—×•×ª, ×”×¨×¦××•×ª, ×™××™ ×©×™×, ×™×©×™×‘×•×ª ×”× ×”×’×ª ×”×•×¨×™×)', '×“×™××œ×•×’ ×‘×™××™ ×”×•×¨×™× ×”××©×§×£ ××ª ×ª×¤×™×¡×ª ×”×”×›×œ×”', '×™×©×™×‘×•×ª ×¤×“×’×•×’×™×•×ª ××‘×•×¡×¡×•×ª × ×ª×•× ×™× ×•××›×•×•× ×•×ª ×œ×ª×œ××™×“ ×”×©×œ×', '×™×•× ×œ××™×“×” ××¡×ª×™×™×/××ª×—×™×œ ×‘×©×™×— ××¦××™×—', '×ª×§× ×•×Ÿ ×•"×”×× ×™ ××××™×Ÿ" ×©×œ ×‘×™×ª ×”×¡×¤×¨ ××©×§×¤×™× ××ª ×ª×¤×™×¡×ª ×”×”×›×œ×”', '×¨×›×™×‘×™ ×”×ª×¢×•×“×” ××©×§×¤×™× ××ª ×ª×¤×™×¡×ª ×”×”×›×œ×”']
                  }
                ]
              },
              {
                id: 'data_based_planning',
                title: '×ª×›× ×™×ª ×¢×‘×•×“×” ×‘×™×ª ×¡×¤×¨×™×ª ××‘×•×¡×¡×ª × ×ª×•× ×™×',
                expectedOutcomes: [
                  { text: '×™×©×™×‘×•×ª ×¤×“×’×•×’×™×•×ª ××‘×•×¡×¡×•×ª × ×ª×•× ×™× ×•××›×•×•× ×•×ª ×œ×ª×œ××™×“ ×”×©×œ×' },
                  { text: '×”×¦×•×•×ª ×”×—×™× ×•×›×™ ×××¤×” ×ª×œ××™×“×™× ×‘×××¦×¢×•×ª ×›×œ×™ ××™×¤×•×™ ×”×•×œ×™×¡×˜×™ (×”×¢×•×’×Ÿ) ×•×‘×•× ×” ×ª×›× ×™×•×ª ×¢×‘×•×“×” ××‘×•×¡×¡×•×ª × ×ª×•× ×™×' },
                  { text: '×ª×›× ×•×Ÿ ×”×¢×‘×•×“×”, ×§×‘×œ×ª ×”×—×œ×˜×•×ª ×•×‘× ×™×™×ª ×ª×›× ×™×•×ª ×”×ª×¢×¨×‘×•×ª ××‘×•×¡×¡×™× ×¢×œ × ×™×ª×•×— ×ª×•×‘× ×•×ª ×× ×ª×•× ×™×' }
                ]
              },
              {
                id: 'interdisciplinary_team',
                title: '×¦×•×•×ª ×‘×™×Ÿ-××§×¦×•×¢×™ ××•×‘×™×œ ×”×›×œ×”',
                expectedOutcomes: [
                  { 
                    text: '××ª×§×™×™××ª ×œ××™×“×ª ×¢××™×ª×™× ×‘××’×•×•×Ÿ ×“×¨×›×™×:',
                    selectablePractices: ['×§×”×™×œ×ª ×”×™×•×•×¢×¦×•×ª ×‘×™×ª ×¡×¤×¨×™×ª (×—×§×¨ ×”×¤×¨×§×˜×™×§×”)', '×¦×¤×™×™×ª ×¢××™×ª×™×', '×™×©×™×‘×•×ª ×¦×•×•×ª×™×', '××œ×™××•×ª ××•×¨×™×', '××•×¨×” ×—×•× ×š ××•×¨×”', '×¡×™××•×œ×¦×™×•×ª', '××¨×—×‘×™ ×—×§×¨ ×•×œ××™×“×” ×œ××•×¨×™×', '××—×¨'] 
                  },
                  { text: '××ª×§×™×™××™× ×©×™×ª×•×¤×™ ×¤×¢×•×œ×” ×‘×§×¨×‘ ×× ×”×™×’×•×ª ×”×‘×™× ×™×™× ×œ×§×™×“×•× ×™×¢×“×™ ×”×›×œ×”/×”×•×¨××” ×‘×›×™×ª×” ×”×˜×¨×•×’× ×™×ª' }
                ]
              },
               {
                id: 'fairness_systemic_view',
                title: '×”×•×’× ×•×ª ×›×ª×¤×™×¡×” ××¢×¨×›×ª×™×ª',
                expectedOutcomes: [
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××“×•×•×—×™× ×¢×œ ×ª×—×•×©×ª ×‘×™×˜×—×•×Ÿ' },
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××“×•×•×—×™× ×¢×œ ×ª×—×•×©×ª ×©×™×™×›×•×ª' },
                  { 
                    text: '×‘×™×ª ×”×¡×¤×¨ ××™×™×©× ×ª×¤×™×¡×” ×©×œ ×”×•×’× ×•×ª ×‘××¨×—×‘×™× ×©×•× ×™×:',
                    practiceListTitle: '×‘×—×™×¨×ª ×¤×¨×§×˜×™×§×•×ª ×•×“×’×©×™× ×œ×™×™×©×•× ×‘××—×“ ××• ×™×•×ª×¨ ××”×¢×§×¨×•× ×•×ª ×”×‘××™×:',
                    selectablePractices: ['××›×¤×ª×™×•×ª', '×’××™×©×•×ª', '× ×’×™×©×•×ª', '×××•×Ÿ', '××™×›×•×ª', '×©×§×™×¤×•×ª', '××’×•×•×Ÿ'] 
                  },
                  { text: '×”×¤×—×ª×ª ×”×©×™××•×© ×‘×¤×¨×§×˜×™×§×•×ª ××“×™×¨×•×ª', isSubOutcome: true },
                  { text: '×™×¨×™×“×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××•×©×¢×™×', isSubOutcome: true },

                ]
              },
              {
                id: 'parent_partnership',
                title: '×©×•×ª×¤×•×ª ×¢× ×”×•×¨×™× ×•×§×”×™×œ×” ×× ×§×•×“×ª ××‘×˜ ××›×™×œ×” ×•×”×•×’× ×ª',
                expectedOutcomes: [
                  { text: '×™××™ ×”×•×¨×™× ×”××©×§×¤×™× ×”×›×œ×” ×•×”×•×’× ×•×ª' },
                  { text: '××ª×Ÿ ×™×™×¦×•×’ ×œ×”×•×Ÿ ×”×ª×¨×‘×•×ª×™ ×©×œ ×§×”×™×œ×ª ×‘×™×ª-×”×¡×¤×¨ (×¤×“×’×•×’×™×” ×©×œ ×–×”×•×™×•×ª)'},
                  { text: '×©×•×ª×¤×•×ª ×—×™× ×•×›×™×ª ×¢× ×”×”×•×¨×™×' }
                ]
              }
            ]
          },
          {
            id: 'arena3',
            title: '×ª×—×•×©×ª ××¡×•×’×œ×•×ª ×”×¦×•×•×ª ×”×—×™× ×•×›×™',
            subtopics: [
                {
                    id: 'coordinator_guidance',
                    title: '×œ×™×•×•×™ ×¨×›×–×ª ×”×”×›×œ×” ×‘×¢×‘×•×“×ª×”',
                    expectedOutcomes: [
                        { text: '×¢×œ×™×™×” ×‘×ª×—×•×©×ª ×”××¡×•×’×œ×•×ª ×©×œ ×¨×›×–×ª ×”×”×›×œ×” ×œ×™×™×©× ××ª ×ª×›× ×™×ª ×”×¢×‘×•×“×” ×©×œ×”' },
                        { text: '×”×¦×œ×—×” ×‘×™×™×©×•× ×™×¢×“×™ ×”×¢×‘×•×“×” ×©×œ ×¨×›×–×ª ×”×›×œ×” ×‘×”×ª×× ×œ××¡××š ××‘× ×™ ×“×¨×š' }
                    ]
                },
                {
                    id: 'teacher_knowledge_deepening',
                    title: '×”×¢××§×ª ×”×™×“×¢ ×”××§×¦×•×¢×™ ×©×œ ×”××•×¨×™×',
                    expectedOutcomes: [
                        { 
                            text: '×¢×œ×™×™×” ×‘×©×™××•×© ×©×œ ×¦×•×•×ª ×”××•×¨×™× ×‘××•×©×’×™×, ×¢×§×¨×•× ×•×ª ×•×©×™×— ××¢×•×œ× ×”×”×›×œ×”:',
                            practiceListTitle: '×‘×—×™×¨×ª ××•×©×’×™×/×¢×§×¨×•× ×•×ª:',
                            selectablePractices: ['×”×›×œ×œ×”', '×©×•×ª×¤×•×ª ×¢× ×”×•×¨×™×', '×¢×™×¦×•×‘ ××•× ×™×‘×¨×¡×œ×™', '×¤×¡×™×›×•×¤×“×’×•×’×™×”', '×™×—×¡×™ ×§×¨×‘×” ×•××›×¤×ª×™×•×ª', '×ª×¨×‘×•×ª ××“×™× ×™×•×ª ×•×™×™×©×•×', '×—×¡××™ ×œ××™×“×” ×•×”×©×ª×ª×¤×•×ª', '×”×•×¨×“×ª ×–××Ÿ ××¢"×', '×”×›×œ×” ×¤×“×’×•×’×™×ª', '×ª×•×›× ×™×ª ×¢×‘×•×“×” ××¨×•×‘×“×ª', '××—×¨']
                        },
                        { 
                            text: '×”×¦×•×•×ª ×œ×•××“ ×•××ª×¤×ª×— ××§×¦×•×¢×™×ª ×‘×ª×—×•× ×”×”×›×œ×” (×™×© ×œ×‘×—×•×¨ ×™×¢×“×™×/× ×•×©××™× ××ª×•×š ×”×¨×©×™××” ×”×‘××”):',
                            practiceListTitle: '×‘×—×™×¨×ª ×™×¢×“×™×/× ×•×©××™× ×œ×”×ª×¤×ª×—×•×ª ××§×¦×•×¢×™×ª:',
                            selectablePractices: ['×œ×™×•×•×™ ×ª×œ××™×“×™× ×¢× ×‘×¢×™×•×ª ×”×ª× ×”×’×•×ª', '×œ×™×•×•×™ ×ª×œ××™×“×™× ×¢× ×‘×¢×™×•×ª ×§×©×‘', '×”××—×•× ×Ÿ ×‘×›×™×ª×ª×•', '×™×œ×“×™× ×‘×¡×™×›×•×Ÿ', '×”×•×¨××” ×‘×›×™×ª×” ×”×˜×¨×•×’× ×™×ª', '× ×•×™×¨×•×¤×“×’×•×’×™×”', '×”×¢×¨×›×” ××‘×•×¡×¡×ª ××’×•×•×Ÿ', '××•×›×œ×•×¡×™×•×ª ×™×™×—×•×“×™×•×ª', '×”×•×¨××” ××•×ª×××ª ×¤×¨×˜', '×•×™×¡×•×ª ×¢×¦××™ ×œ×œ××™×“×”', '××•×˜×™×‘×¦×™×” ×œ×œ××™×“×”', '×‘× ×™×™×ª ×ª×›× ×™×•×ª ××™×©×™×•×ª ×•/××• ×›×™×ª×ª×™×•×ª', '×ª×›× ×•×Ÿ ×”×•×¨××” ××‘×•×¡×¡×ª × ×ª×•× ×™×', '×›×œ×™× ×˜×›× ×•-×¤×“×’×•×’×™×™×']
                        },
                        { text: '××ª×§×™×™× ×©×™×— ×œ×œ××™×“×” ×× ×ª×•× ×™× ×œ×¦×•×¨×š ×ª×›× ×•×Ÿ ×”×¢×‘×•×“×”, ×§×‘×œ×ª ×”×—×œ×˜×•×ª ×•×‘× ×™×™×ª ×ª×›× ×™×•×ª ×”×ª×¢×¨×‘×•×ª' },
                        { 
                            text: '××ª×§×™×™××ª ×œ××™×“×ª ×¢××™×ª×™× ×‘××’×•×•×Ÿ ×“×¨×›×™×:',
                            selectablePractices: ['×§×”×™×œ×ª ×”×™×•×•×¢×¦×•×ª ×‘×™×ª ×¡×¤×¨×™×ª (×—×§×¨ ×”×¤×¨×˜×§×˜×™×§×”)', '×¦×¤×™×™×ª ×¢××™×ª×™×', '×™×©×™×‘×•×ª ×¦×•×•×ª×™×', '××œ×™××•×ª ××•×¨×™×', '××•×¨×” ×—×•× ×š ××•×¨×”', '×¡×“× ××•×ª ×¤×™×ª×•×— ××§×¦×•×¢×™', '×”×©×ª×œ××•×ª ××•×¡×“×™×ª', '×¤×•×¨××˜ ×“×™×’×™×˜×œ×™ ×œ×©×™×ª×•×£ ×—×•××¨×™×', '×¡×™××•×œ×¦×™×•×ª', '××¨×—×‘×™ ×—×§×¨ ×•×œ××™×“×” ×œ××•×¨×™×', '××—×¨']
                        }
                    ]
                },
                {
                    id: 'teacher_efficacy',
                    title: '×—×™×–×•×§ ×ª×—×•×©×ª ×”××¡×•×’×œ×•×ª ×©×œ ×”××•×¨×”',
                    expectedOutcomes: [
                        { text: '×¢×œ×™×™×” ×‘×ª×—×•×©×ª ×”××¡×•×’×œ×•×ª ×©×œ ×”××•×¨×™× ×‘××™××“×™× ×©×•× ×™× ××§×“××™ ×”×›×œ×” ×•×”×•×’× ×•×ª' },
                        { text: '×¢×œ×™×™×” ×‘×ª×—×•×©×ª ×”××¡×•×’×œ×•×ª ×©×œ ×”××•×¨×™× ×œ× ×™×”×•×œ ×©×™×— ××¦××™×— ×¢× ×”×ª×œ××™×“×™× ×•×ª×—×•×©×ª ××›×¤×ª×™×•×ª' },
                        { text: '×¢×œ×™×™×” ×‘××¡×¤×¨ ×”×ª×œ××™×“×™× ×”××¢×•×¨×‘×™× ×‘×©×™×¢×•×¨' }
                    ]
                }
            ]
          },
          {
            id: 'arena4',
            title: '×™×—×¡×™ ×§×¨×‘×” ×•××›×¤×ª×™×•×ª',
            subtopics: [
              {
                id: 'belonging_involvement',
                title: '×©×™×™×›×•×ª ×•××¢×•×¨×‘×•×ª',
                expectedOutcomes: [
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××“×•×•×—×™× ×¢×œ ×ª×—×•×©×ª ×©×™×™×›×•×ª' },
                  { text: '×¢×œ×™×™×” ×‘××—×•×– ×”×ª×œ××™×“×™× ×”××“×•×•×—×™× ×¢×œ ×ª×—×•×©×ª ×‘×™×˜×—×•×Ÿ ×‘×‘×™×ª ×”×¡×¤×¨' },
                  { text: '×¢×œ×™×™×” ×‘×“×™×•×•×— ×”××•×¨×™× ×¢×œ ×”×™×›×¨×•×ª ××¢××™×§×” ×¢× ×ª×œ××™×“×™×”× ×××’×•×•×Ÿ × ×§×•×“×•×ª ××‘×˜ (×”×ª×œ××™×“ ×”×©×œ×)' }
                ]
              },
              {
                id: 'teacher_student_dialogue',
                title: '×“×™××œ×•×’ ××•×¨×”-×ª×œ××™×“',
                expectedOutcomes: [
                  { 
                    text: '×¢×œ×™×™×” ×‘×“×™×•×•×— ×”××•×¨×™× ×¢×œ ×©×™××•×© ×‘×›×œ×™× ×¤×¡×™×›×•×¤×“×’×•×’×™×™× ×œ×—×™×–×•×§ ×”×§×©×¨ ×‘×™×Ÿ ××•×¨×”-×ª×œ××™×“:',
                    selectablePractices: ['"×¤×¡×™×¤×¡"', '××©×•×‘ ×œ×§×™×“×•× ×¤×¡×™×›×•×¤×“×’×•×’×™×”', '×©××œ×•×ª ××•×§×™×¨×•×ª', '×‘× ×™×™×ª ×××•×Ÿ ×‘×™×Ÿ ××•×¨×” ×œ×ª×œ××™×“', '× ×™×”×•×œ ×©×™×— ××™×©×™ ××¦××™×—', '××‘×•×’×¨ ××©××¢×•×ª×™', '×¦×™×¤×™×•×ª ×’×‘×•×”×•×ª', '××—×¨'] 
                  }
                ]
              }
            ]
          },
          {
            id: 'arena5',
            title: '×¡×‘×™×‘×ª ×œ××™×“×” ××§×“××ª ×”×›×œ×”',
            subtopics: [
              {
                id: 'learning_spaces',
                title: '××¨×—×‘×™ ×œ××™×“×”',
                expectedOutcomes: [
                  { 
                    text: '×¢×œ×™×™×” ×‘×©×™××•×© ×‘××’×•×•×Ÿ ××¨×—×‘×™ ×œ××™×“×”:',
                    selectablePractices: ['××’×•×•×Ÿ ××¨×—×‘×™× ×‘×›×™×ª×”', '××¨×—×‘×™ ×œ××™×“×” ×—×•×¥ ×›×™×ª×ª×™×™×', '××¨×—×‘×™ ×œ××™×“×” ×—×•×¥ ×‘×™×ª ×¡×¤×¨×™×™×', '××¨×—×‘×™ ×œ××™×“×” ×™×¨×•×§×™×'] 
                  }
                ]
              },
              {
                id: 'techno_pedagogical_tools',
                title: '×›×œ×™× ×˜×›× ×•-×¤×“×’×•×’×™×™×',
                expectedOutcomes: [
                  { text: '×¢×œ×™×™×” ×‘×©×™××•×© ×‘×›×œ×™× ×“×™×’×™×˜×œ×™×™× ×”××¡×™×™×¢×™× ×‘×”×¡×¨×ª ×—×¡××™ ×œ××™×“×” ×•××’×‘×™×¨×™× ××¢×•×¨×‘×•×ª' }
                ]
              }
            ]
          }
        ];


        const toggleSelection = (domainId, subtopicId, outcomeIndex) => {
          const key = `${domainId}_${subtopicId}_${outcomeIndex}`;
          setSelectedItems(prev => ({ ...prev, [key]: !prev[key] }));
           if (selectedItems[key]) {
            setSelectedPractices(prev => { const newPractices = { ...prev }; delete newPractices[key]; return newPractices; });
            setCustomPractices(prev => { const newCustom = { ...prev }; delete newCustom[key]; return newCustom; });
          }
        };
        
        const togglePractice = (outcomeKey, practice) => {
          setSelectedPractices(prev => ({
            ...prev,
            [outcomeKey]: { ...prev[outcomeKey], [practice]: !prev[outcomeKey]?.[practice] }
          }));
        };

        const handleCustomPracticeChange = (key, value) => {
            setCustomPractices(prev => ({ ...prev, [key]: value }));
        };

        const toggleGlobalPartner = (partner) => setGlobalPartners(prev => ({ ...prev, [partner]: !prev[partner] }));
        const toggleTrainingPractice = (practice) => setSelectedTrainingPractices(prev => ({ ...prev, [practice]: !prev[practice] }));
        const addCustomGlobalPartner = () => { if (customGlobalPartner.trim()) { setGlobalPartners(prev => ({ ...prev, [customGlobalPartner]: true })); setCustomGlobalPartner(''); } };
        const getSelectedCount = () => Object.values(selectedItems).filter(Boolean).length;

        const handleNavigate = (targetView) => {
            setView(targetView);
            if(contentRef.current) {
                contentRef.current.scrollIntoView({ behavior: 'smooth' });
            }
        };

        const handleNextDomain = () => {
          if (currentDomain < domains.length - 1) {
            setCurrentDomain(currentDomain + 1);
          } else {
            handleNavigate('additionalData');
          }
          if(contentRef.current) {
             contentRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        };

        const handlePrevDomain = () => {
          setCurrentDomain(Math.max(0, currentDomain - 1));
           if(contentRef.current) {
             contentRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        };

        const generateSummary = () => {
          const summary = {};
          const selectedGlobalPartnersList = Object.keys(globalPartners).filter(p => globalPartners[p]);
          let selectedTrainingList = Object.keys(selectedTrainingPractices).filter(p => selectedTrainingPractices[p]);
          // Handle custom 'other' for training practices
          if (selectedTrainingPractices['××—×¨'] && customPractices['training_other']) {
            selectedTrainingList = selectedTrainingList.filter(p => p !== '××—×¨');
            selectedTrainingList.push(`××—×¨: ${customPractices['training_other']}`);
          }
          
          domains.forEach(domain => {
            domain.subtopics.forEach(subtopic => {
              subtopic.expectedOutcomes.forEach((outcome, index) => {
                const key = `${domain.id}_${subtopic.id}_${index}`;
                if (selectedItems[key]) {
                  if (!summary[domain.title]) summary[domain.title] = {};
                  if (!summary[domain.title][subtopic.title]) summary[domain.title][subtopic.title] = [];
                  let practices = selectedPractices[key] ? Object.keys(selectedPractices[key]).filter(p => selectedPractices[key][p]) : [];
                  if (selectedPractices[key]?.['××—×¨'] && customPractices[key]) {
                    practices = practices.filter(p => p !== '××—×¨');
                    practices.push(`××—×¨: ${customPractices[key]}`);
                  }
                  summary[domain.title][subtopic.title].push({ outcome: outcome.text, practices: practices });
                }
              });
            });
          });
          return { summary, partners: selectedGlobalPartnersList, trainingPractices: selectedTrainingList };
        };

        const renderView = () => {
            switch(view) {
                case 'summary':
                    const { summary, partners, trainingPractices } = generateSummary();
                    return (
                        <div className="min-h-screen bg-gray-50 p-6 print-container">
                          <div className="max-w-5xl mx-auto">
                            <div className="bg-white rounded-xl shadow-lg p-8 print-content">
                              <div className="text-center mb-8">
                                 <h1 className="text-3xl font-bold text-indigo-800 mb-2">×›×œ×™ ×œ× ×™×”×•×œ ×©×™×— ×‘×™×Ÿ ××“×¨×™×›×ª ×”×›×œ×”</h1>
                                 <h2 className="text-3xl font-bold text-indigo-800">×œ×× ×”×œ/×× ×”×œ×ª ×‘×™×ª ×¡×¤×¨ ×œ×ª×›× ×•×Ÿ ×ª×•×›× ×™×ª ×”×“×¨×›×” ××•×ª×××ª ×‘×ª×—×•× ×”×”×›×œ×”</h2>
                              </div>

                              <div className="mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 text-right space-y-3 page-break-inside-avoid">
                                <h3 className="text-xl font-bold text-gray-800">××™×“×¢ ×›×œ×œ×™:</h3>
                                <p><span className="font-semibold">×©× ×‘×™×ª ×”×¡×¤×¨:</span> {schoolName || "____________________"}</p>
                                <p><span className="font-semibold">×©× ×”×× ×”×œ/×”×× ×”×œ×ª:</span> {principalName || "____________________"}</p>
                                <p><span className="font-semibold">×©× ××“×¨×™×›×ª ×”×”×›×œ×”:</span> {mentorName || "____________________"}</p>
                                <p><span className="font-semibold">×©× ×¨×›×–×ª ×”×”×›×œ×”:</span> {coordinatorName || "____________________"}</p>
                                <p><span className="font-semibold">××¡×¤×¨ ×©×¢×•×ª ×”×“×¨×›×” ×‘×”×›×œ×”:</span> {guidanceHours || "____________________"}</p>
                                <p><span className="font-semibold">××¡×¤×¨ ×”×©× ×™× ×©×‘×™×ª ×”×¡×¤×¨ ××§×‘×œ ×”×“×¨×›×” ×‘×”×›×œ×”:</span> {guidanceYears || "____________________"}</p>
                              </div>

                              <div className="mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 text-right space-y-3 page-break-inside-avoid">
                                <h3 className="text-xl font-bold text-gray-800">× ×ª×•× ×™× ×‘×™×ª-×¡×¤×¨×™×™×:</h3>
                                 <p className="text-sm text-gray-600">(×‘×—×œ×§ ×–×” ×™×© ×œ×”×¦×™×’ ×ª××•× ×ª ××¦×‘ × ×•×›×—×™×ª ×©×œ ×‘×™×ª ×”×¡×¤×¨, ××•××œ×¥ ×œ×”×ª×‘×¡×¡ ×’× ×¢×œ ×“×©×‘×•×¨×“ ×”×× ×”×œ ×©×œ ×›×œ×™ ×”×¢×•×’×Ÿ).</p>
                                <p className="font-semibold">×ª×™××•×¨ ×”×¢×©×™×™×” ×”× ×•×›×—×™×ª ×‘×ª×—×•× ×”×”×›×œ×” ×•×”×”×•×’× ×•×ª ×‘×‘×™×ª ×”×¡×¤×¨ (××” × ×¢×©×” ×¢×“ ×›×”, ××™×œ×• ×¤×¨×§×˜×™×§×•×ª ××™×•×©××•×ª ×•××•×˜××¢×•×ª, ××™×œ×• ××ª×•×“×•×ª × ××¦××•×ª ×‘×©×™××•×©, ×‘××™×œ×• ×ª×—×•××™× ×”×¦×•×•×ª ×œ×•××“ ×•××ª×¤×ª×— ××§×¦×•×¢×™×ª):</p>
                                <p className="whitespace-pre-wrap mt-1 text-gray-700 min-h-[50px]">{schoolData || ""}</p>
                              </div>

                               <div className="mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200 text-right space-y-3 page-break-inside-avoid">
                                <h3 className="text-xl font-bold text-gray-800">×ª×•×‘× ×•×ª ××¨×›×–×™×•×ª ×•×–×™×”×•×™ ××ª×’×¨×™×:</h3>
                                <p className="font-semibold">××”× ×”××ª×’×¨×™× ×”××¨×›×–×™×™× ×•×œ××Ÿ ×©×•××¤×™× ×œ×”×’×™×¢?</p>
                                <p className="whitespace-pre-wrap mt-1 text-gray-700 min-h-[50px]">{challenges || ""}</p>
                              </div>

                              {Object.keys(summary).length === 0 && (
                                <div className="text-center py-8">
                                  <p className="text-gray-600">×œ× × ×‘×—×¨×• ×–×™×¨×•×ª ×¤×¢×•×œ×”, ×ª×•×¦×¨×™× ××• ×¤×¨×§×˜×™×§×•×ª.</p>
                                </div>
                              )}
                              {Object.entries(summary).map(([domainTitle, subtopics]) => (
                                <div key={domainTitle} className="mb-8 page-break-inside-avoid">
                                  <h2 className="text-2xl font-bold text-indigo-700 mb-4 border-b-2 border-indigo-200 pb-2">{domainTitle}</h2>
                                  {Object.entries(subtopics).map(([subtopicTitle, outcomes]) => (
                                    <div key={subtopicTitle} className="mb-6 mr-4 page-break-inside-avoid">
                                      <h3 className="text-xl font-semibold text-indigo-600 mb-3">{subtopicTitle}</h3>
                                      <ul className="list-disc pr-5 space-y-4">
                                      {outcomes.map((item, index) => (
                                        <li key={index} className="mb-4 p-3 bg-gray-50 rounded-lg">
                                            <p className="font-medium text-gray-800">{item.outcome.replace(":", "")}</p>
                                            {item.practices.length > 0 && (
                                            <div className="mt-2">
                                              <p className="text-sm font-medium text-green-700">×¤×¨×§×˜×™×§×•×ª ×•×“×’×©×™× ×©× ×‘×—×¨×•: </p>
                                              <p className="text-sm text-gray-700">{item.practices.join('; ')}</p>
                                            </div>
                                          )}
                                        </li>
                                      ))}
                                      </ul>
                                    </div>
                                  ))}
                                </div>
                              ))}
                              
                               <div className="mt-8 p-4 bg-green-50 rounded-lg page-break-inside-avoid">
                                  <h2 className="text-lg font-bold text-green-800 mb-3">×¤×¨×§×˜×™×§×•×ª ×”×“×¨×›×” ×•×œ×™×•×•×™ ×©×œ ××“×¨×™×›×ª ×”×”×›×œ×”:</h2>
                                  <p className="text-green-700">{trainingPractices.join('; ')}</p>
                               </div>

                               <div className="mt-4 p-4 bg-blue-50 rounded-lg page-break-inside-avoid">
                                  <h2 className="text-lg font-bold text-blue-800 mb-3">×©×•×ª×¤×™× ×œ×§×™×“×•× ×ª×—×•× ×”×”×›×œ×” ×‘×‘×™×ª ×”×¡×¤×¨:</h2>
                                  <p className="text-blue-700">{partners.join(', ')}</p>
                               </div>

                               <div className="mt-4 p-4 bg-gray-50 rounded-lg page-break-inside-avoid">
                                 <h3 className="text-lg font-bold text-gray-800 mb-3">××¢× ×™/ ××©××‘×™ ×”×›×œ×” × ×•×¡×¤×™×:</h3>
                                 <p className="whitespace-pre-wrap mt-1 text-gray-700 min-h-[30px]">{additionalResources || ""}</p>
                               </div>


                              <div className="flex gap-4 mt-8 no-print">
                                <button onClick={() => handleNavigate('additionalData')} className="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors">×—×–×¨×” ×œ×¢×¨×™×›×”</button>
                                <button onClick={() => window.print()} className="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">ğŸ–¨ï¸ ×”×“×¤×¡×”/×©××™×¨×”</button>
                              </div>
                            </div>
                          </div>
                        </div>
                    );
                case 'additionalData':
                    return (
                        <div className="bg-white rounded-xl shadow-lg p-8 mt-6">
                            <h2 className="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">×©×œ×‘ 3: × ×ª×•× ×™× × ×•×¡×¤×™× ×œ×‘× ×™×™×ª ×ª×›× ×™×ª ×”×¢×‘×•×“×”</h2>
                             <div className="space-y-6">
                                <div>
                                    <label className="block text-lg font-bold text-gray-800 mb-3">××¢× ×™/ ××©××‘×™ ×”×›×œ×” × ×•×¡×¤×™× <span className="text-sm font-normal">(×”×•×¨××” ××ª×§× ×ª, ×’×¤"×Ÿ, ×•×›×•'):</span></label>
                                    <textarea value={additionalResources} onChange={(e) => setAdditionalResources(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg" rows="3"></textarea>
                                </div>
                                <div className="grid md:grid-cols-2 gap-8">
                                    <div className="p-4 bg-green-50 rounded-lg border border-green-200">
                                         <h3 className="text-lg font-bold text-green-800 mb-3">×¤×¨×§×˜×™×§×•×ª ×”×“×¨×›×” ×•×œ×™×•×•×™ ×©×œ ××“×¨×™×›×ª ×”×”×›×œ×” (×™×© ×œ×‘×—×•×Ÿ ××‘×™×Ÿ ×”×¤×¨×§×˜×™×§×•×ª ×”×‘××•×ª):</h3>
                                         <div className="space-y-2">
                                            {teacherTrainingPractices.map(practice => (
                                                <div key={practice}>
                                                  <label className="flex items-center gap-2 text-sm cursor-pointer">
                                                      <input type="checkbox" checked={selectedTrainingPractices[practice] || false} onChange={() => toggleTrainingPractice(practice)} className="rounded border-gray-300 text-green-600 focus:ring-green-500"/>
                                                      <span className="text-gray-700">{practice}</span>
                                                  </label>
                                                  {practice === '××—×¨' && selectedTrainingPractices['××—×¨'] && (
                                                     <input type="text" placeholder="×¤×™×¨×•×˜" value={customPractices['training_other'] || ''} onChange={(e) => handleCustomPracticeChange('training_other', e.target.value)} className="w-full mt-1 p-2 text-sm border-gray-300 rounded"/>
                                                  )}
                                                </div>
                                            ))}
                                         </div>
                                    </div>
                                    <div className="p-4 bg-blue-50 rounded-lg border border-blue-200">
                                         <h3 className="text-lg font-bold text-blue-800 mb-3">×©×•×ª×¤×™× ×œ×§×™×“×•× ×ª×—×•× ×”×”×›×œ×” ×‘×‘×™×ª ×”×¡×¤×¨:</h3>
                                         <div className="grid grid-cols-1 md:grid-cols-2 gap-2 mb-3">
                                            {partnersList.map((partner) => (<label key={partner} className="flex items-center gap-2 text-sm cursor-pointer"><input type="checkbox" checked={globalPartners[partner] || false} onChange={() => toggleGlobalPartner(partner)} className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"/><span className="text-gray-700">{partner}</span></label>))}
                                         </div>
                                         <div className="flex gap-2"><input type="text" value={customGlobalPartner} onChange={(e) => setCustomGlobalPartner(e.target.value)} placeholder="×”×•×¡×£ ×©×•×ª×£/×¤×” (××—×¨)" className="flex-1 p-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500"/><button onClick={addCustomGlobalPartner} className="px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors">â•</button></div>
                                    </div>
                                </div>
                            </div>
                            <div className="flex justify-between items-center mt-8">
                                <button onClick={() => handleNavigate('domains')} className="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600">×—×–×¨×” ×œ×‘×—×™×¨×ª ×–×™×¨×•×ª ×¤×¢×•×œ×” ×•×ª×•×¦×¨×™×</button>
                                <button onClick={() => handleNavigate('summary')} className="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700">ğŸ¯ ×¡×™×•× ×•×™×¦×™×¨×ª ×¡×™×›×•× ×©×™×—</button>
                            </div>
                       </div>
                    );
                case 'domains':
                    return (
                        <>
                         <div className="bg-white rounded-xl shadow-lg p-8 mb-6">
                            <h2 className="text-2xl font-bold text-indigo-800 mb-2">×©×œ×‘ 2: ×‘×—×™×¨×ª ×–×™×¨×•×ª ×¤×¢×•×œ×” ×•×ª×•×¦×¨×™×</h2>
                            <p className="text-sm text-red-600 font-semibold mb-4">×”×¢×¨×” ×—×©×•×‘×”! ×”×‘×—×™×¨×” ×¦×¨×™×›×” ×œ×”×™×•×ª ××•×ª×××ª ×œ××™× ×˜× ×¡×™×‘×™×•×ª ×”×”×“×¨×›×” ×•×œ××ª×’×¨×™ ×‘×™×ª-×”×¡×¤×¨.</p>
                             <div className="flex flex-wrap gap-2">
                                {domains.map((domain, index) => (<button key={domain.id} onClick={() => setCurrentDomain(index)} className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${currentDomain === index ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-700 hover:bg-gray-200'}`}>{domain.title}</button>))}
                            </div>
                            <div className="flex justify-between items-center mt-4"><div className="text-sm text-gray-600">×–×™×¨×” {currentDomain + 1} ××ª×•×š {domains.length}</div><div className="text-sm text-indigo-600 font-medium">× ×‘×—×¨×• {getSelectedCount()} ×ª×•×¦×¨×™×</div></div>
                            <div className="w-full bg-gray-200 rounded-full h-2 mt-2"><div className="bg-indigo-600 h-2 rounded-full transition-all duration-300" style={{ width: `${((currentDomain + 1) / domains.length) * 100}%` }}></div></div>
                         </div>
                         <div ref={contentRef} className="bg-white rounded-xl shadow-lg p-8">
                            <div className="mb-6"><h2 className="text-2xl font-bold text-indigo-800 mb-2">{domains[currentDomain].title}</h2></div>
                            <div className="space-y-6">
                              {domains[currentDomain].subtopics.map((subtopic) => (
                                <div key={subtopic.id} className="border border-gray-200 rounded-lg p-6">
                                  <h3 className="text-xl font-semibold text-indigo-700 mb-4">{subtopic.title}</h3>
                                  <div className="space-y-4">
                                    {subtopic.expectedOutcomes.map((outcome, index) => {
                                      const key = `${domains[currentDomain].id}_${subtopic.id}_${index}`;
                                      const isSelected = selectedItems[key];
                                      const hasSelectablePractices = outcome.selectablePractices && outcome.selectablePractices.length > 0;
                                      
                                      return (
                                        <div key={index}>
                                          <div onClick={() => toggleSelection(domains[currentDomain].id, subtopic.id, index)} className={`p-4 rounded-lg border-2 cursor-pointer transition-all ${isSelected ? 'border-indigo-500 bg-indigo-50' : 'border-gray-200 hover:border-indigo-300 hover:bg-gray-50'}`}>
                                            <div className="flex items-start gap-3">
                                              <div className={`w-5 h-5 rounded-full border-2 mt-1 flex-shrink-0 flex items-center justify-center ${isSelected ? 'bg-indigo-600 border-indigo-600' : 'border-gray-400'}`}>{isSelected && <div className="w-2 h-2 bg-white rounded-full"></div>}</div>
                                              <div className="flex-grow">
                                                <span className={`${isSelected ? 'text-indigo-800 font-medium' : 'text-gray-700'}`}>
                                                   {outcome.text}
                                                </span>
                                                {hasSelectablePractices && !isSelected && (
                                                    <p className="mt-2 text-sm font-medium text-indigo-600">
                                                        ×œ×—×¦×• ×œ×‘×—×™×¨×ª ×¤×¨×§×˜×™×§×•×ª ×•×“×’×©×™× ×œ×™×™×©×•×:
                                                    </p>
                                                )}
                                              </div>
                                            </div>
                                          </div>
                                           {isSelected && hasSelectablePractices && (
                                            <div className="mr-8 mt-4 space-y-4 bg-gray-50 p-4 rounded-lg">
                                              <div>
                                                <h4 className="text-md font-semibold text-gray-800 mb-3">{outcome.practiceListTitle || '×‘×—×™×¨×ª ×¤×¨×§×˜×™×§×•×ª ×•×“×’×©×™× ×œ×™×™×©×•×:'}</h4>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2">
                                                  {outcome.selectablePractices.map((practice) => (
                                                    <div key={practice}>
                                                      <label className="flex items-center gap-2 text-sm cursor-pointer">
                                                          <input type="checkbox" checked={selectedPractices[key]?.[practice] || false} onChange={() => togglePractice(key, practice)} className="rounded border-gray-300 text-green-600 focus:ring-green-500"/>
                                                          <span className="text-gray-700">{practice}</span>
                                                      </label>
                                                      {practice === '××—×¨' && selectedPractices[key]?.['××—×¨'] && (
                                                        <input type="text" placeholder="×¤×™×¨×•×˜" value={customPractices[key] || ''} onChange={(e) => handleCustomPracticeChange(key, e.target.value)} className="w-full mt-1 p-2 text-sm border-gray-300 rounded"/>
                                                      )}
                                                    </div>
                                                  ))}
                                                </div>
                                              </div>
                                            </div>
                                          )}
                                        </div>
                                      );
                                    })}
                                  </div>
                                </div>
                              ))}
                            </div>

                            <div className="flex justify-between items-center mt-8">
                              <button onClick={handlePrevDomain} disabled={currentDomain === 0} className="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50">×”×–×™×¨×” ×”×§×•×“××ª</button>
                               <button onClick={() => handleNavigate('initial')} className="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600">×—×–×¨×” ×œ××™×“×¢ ×”×›×œ×œ×™</button>
                              <button onClick={handleNextDomain} className="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">
                                {currentDomain === domains.length - 1 ? '×”××©×š ×œ× ×ª×•× ×™× × ×•×¡×¤×™×' : '×”×–×™×¨×” ×”×‘××”'}
                              </button>
                            </div>
                        </div>
                       </>
                    );
                case 'initial':
                default:
                    return (
                        <div className="bg-white rounded-xl shadow-lg p-8 mb-6">
                            <div className="text-center mb-8">
                                 <h1 className="text-3xl font-bold text-indigo-800 mb-2">×›×œ×™ ×œ× ×™×”×•×œ ×©×™×— ×‘×™×Ÿ ××“×¨×™×›×ª ×”×›×œ×”</h1>
                                 <h2 className="text-3xl font-bold text-indigo-800">×œ×× ×”×œ/×× ×”×œ×ª ×‘×™×ª ×¡×¤×¨ ×œ×ª×›× ×•×Ÿ ×ª×•×›× ×™×ª ×”×“×¨×›×” ××•×ª×××ª ×‘×ª×—×•× ×”×”×›×œ×”</h2>
                            </div>
                            
                            <div className="space-y-6">
                                <div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-3 border-b pb-2">×©×œ×‘ 1: ××™×“×¢ ×›×œ×œ×™, × ×ª×•× ×™× ×•×ª×•×‘× ×•×ª</h3>
                                    <div className="grid md:grid-cols-2 gap-4 mt-4">
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">×©× ×‘×™×ª ×”×¡×¤×¨:</label><input type="text" value={schoolName} onChange={(e) => setSchoolName(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">×©× ×”×× ×”×œ/×”×× ×”×œ×ª:</label><input type="text" value={principalName} onChange={(e) => setPrincipalName(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">×©× ××“×¨×™×›×ª ×”×”×›×œ×”:</label><input type="text" value={mentorName} onChange={(e) => setMentorName(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">×©× ×¨×›×–×ª ×”×”×›×œ×”:</label><input type="text" value={coordinatorName} onChange={(e) => setCoordinatorName(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">××¡×¤×¨ ×©×¢×•×ª ×”×“×¨×›×” ×‘×”×›×œ×”:</label><input type="text" value={guidanceHours} onChange={(e) => setGuidanceHours(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                      <div><label className="block text-sm font-medium text-gray-700 mb-1">××¡×¤×¨ ×”×©× ×™× ×©×‘×™×ª ×”×¡×¤×¨ ××§×‘×œ ×”×“×¨×›×” ×‘×”×›×œ×”:</label><input type="text" value={guidanceYears} onChange={(e) => setGuidanceYears(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg"/></div>
                                    </div>
                                </div>

                                <div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-2">× ×ª×•× ×™× ×‘×™×ª-×¡×¤×¨×™×™×:</h3>
                                    <p className="text-sm text-gray-600 mb-2">(×‘×—×œ×§ ×–×” ×™×© ×œ×”×¦×™×’ ×ª××•× ×ª ××¦×‘ × ×•×›×—×™×ª ×©×œ ×‘×™×ª ×”×¡×¤×¨, ××•××œ×¥ ×œ×”×ª×‘×¡×¡ ×’× ×¢×œ ×“×©×‘×•×¨×“ ×”×× ×”×œ ×©×œ ×›×œ×™ ×”×¢×•×’×Ÿ).</p>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">×ª×™××•×¨ ×”×¢×©×™×™×” ×”× ×•×›×—×™×ª ×‘×ª×—×•× ×”×”×›×œ×” ×•×”×”×•×’× ×•×ª ×‘×‘×™×ª ×”×¡×¤×¨ (××” × ×¢×©×” ×¢×“ ×›×”, ××™×œ×• ×¤×¨×§×˜×™×§×•×ª ××™×•×©××•×ª ×•××•×˜××¢×•×ª, ××™×œ×• ××ª×•×“×•×ª × ××¦××•×ª ×‘×©×™××•×©, ×‘××™×œ×• ×ª×—×•××™× ×”×¦×•×•×ª ×œ×•××“ ×•××ª×¤×ª×— ××§×¦×•×¢×™×ª):</label>
                                    <textarea value={schoolData} onChange={(e) => setSchoolData(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg" rows="4"></textarea>
                                </div>

                                <div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-2">×ª×•×‘× ×•×ª ××¨×›×–×™×•×ª ×•×–×™×”×•×™ ××ª×’×¨×™×:</h3>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">××”× ×”××ª×’×¨×™× ×”××¨×›×–×™×™× ×•×œ××Ÿ ×©×•××¤×™× ×œ×”×’×™×¢?</label>
                                    <textarea value={challenges} onChange={(e) => setChallenges(e.target.value)} className="w-full p-2 border border-gray-300 rounded-lg" rows="4"></textarea>
                                </div>
                                <div className="text-center mt-6">
                                    <button onClick={() => handleNavigate('domains')} className="px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 text-lg">×”×ª×—×œ×ª ×”×ª×›× ×•×Ÿ ×•×‘×—×™×¨×ª ×–×™×¨×•×ª ×¤×¢×•×œ×” ×•×ª×•×¦×¨×™×</button>
                                </div>
                            </div>
                        </div>
                    );
            }
        };

        return (
          <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6 no-print">
            <div ref={contentRef} className="max-w-6xl mx-auto">
                {renderView()}
            </div>
          </div>
        );
      };

      const container = document.getElementById('root');
      const root = ReactDOM.createRoot(container);
      root.render(<InclusionPlanningTool />);
    </script>

</body>
</html>
