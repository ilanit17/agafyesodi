<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>מדריך אסטרטגי: מאיים ליבשת STEM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@200;300;400;500;600;700;800&display=swap');
        
        body { 
            font-family: 'Assistant', sans-serif; 
            background: #f4f7f9; 
            color: #1e293b; 
            overflow: hidden; 
            height: 100vh; 
            margin: 0; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }

        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .cursor { display: inline-block; width: 4px; height: 32px; background: #3b82f6; vertical-align: middle; margin-right: 8px; }
        .cursor.blink { animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        .main-card { 
            background: #ffffff; 
            border: 1px solid #e2e8f0; 
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* העלאת האיור והכותרת למעלה */
        #content-container {
            padding: 0px 20px; /* ביטול פדינג עליון מיותר */
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: -20px; /* דחיפה אקטיבית כלפי מעלה */
        }

        #icon-box {
            min-height: 100px; 
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px; /* צמצום רווח */
            font-size: 65px; /* הקטנה קלה נוספת */
            line-height: 1;
        }

        #main-title {
            line-height: 1.2; 
            margin-bottom: 2px;
            font-weight: 800;
        }

        #sub-title {
            margin-top: 0;
            margin-bottom: 10px;
        }

        /* הגדלת אזור הכתוב והעלאת קו ההפרדה */
        .narrative-box { 
            background: #f8fafc; 
            border-top: 3px solid #3b82f6; 
            z-index: 10;
            flex: 1.8; /* הגדלת היחס לטובת הטקסט */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* צמצום החלק העליון */
        .top-section {
            flex: 0.9; /* הקטנת היחס של החלק העליון */
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
        }

        #typed-output {
            line-height: 1.45;
            padding: 0 20px;
        }

        .nav-btn {
            z-index: 50;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div id="app" class="main-card w-full max-w-6xl h-[92vh] rounded-[48px] shadow-2xl flex flex-col relative overflow-hidden">
        
        <!-- Header -->
        <div class="p-4 md:p-6 flex justify-between items-start border-b border-slate-100 shrink-0 bg-white z-20">
            <div class="flex flex-col">
                <h1 class="text-xs md:text-sm font-black text-blue-600 uppercase tracking-widest">מדריך למידה: מאיים ליבשת STEM</h1>
                <p id="chapter-label" class="text-[9px] md:text-[10px] text-slate-400 font-bold uppercase mt-0.5"></p>
            </div>
            <div id="progress-dots" class="flex gap-1.5 md:gap-2"></div>
        </div>

        <!-- Top Section (Icon & Title) -->
        <div class="top-section bg-white shrink-0">
            <div id="content-container" class="fade-in mx-auto">
                <div id="icon-box" class="transition-transform duration-700 hover:scale-105"></div>
                <h2 id="main-title" class="text-3xl md:text-5xl text-slate-800"></h2>
                <p id="sub-title" class="text-lg md:text-xl font-bold text-blue-500/80"></p>
            </div>

            <button id="prev-btn" class="nav-btn absolute right-4 md:right-8 top-1/2 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 rounded-full border border-blue-100 bg-white shadow-lg flex items-center justify-center text-2xl md:text-3xl hover:bg-blue-50 text-blue-600 disabled:opacity-0">→</button>
            <button id="next-btn" class="nav-btn absolute left-4 md:left-8 top-1/2 -translate-y-1/2 w-12 h-12 md:w-16 md:h-16 rounded-full border border-blue-100 bg-white shadow-lg flex items-center justify-center text-2xl md:text-3xl hover:bg-blue-50 text-blue-600 disabled:opacity-0">←</button>
        </div>

        <!-- Narrative Box (Bottom Area - Enlarged) -->
        <div class="narrative-box p-6 md:p-10 relative">
            <p id="typed-output" class="text-xl md:text-2xl lg:text-3xl font-bold text-slate-700 text-center tracking-wide"></p>
            <div id="final-action" class="mt-4 hidden text-center">
                <button onclick="window.close()" class="px-12 py-4 bg-blue-600 text-white rounded-2xl font-black text-xl hover:bg-blue-700 transition-all shadow-md">בואו נחבר את היבשת!</button>
            </div>
        </div>
    </div>

    <script>
        const stages = [
            {
                "icon": "🌏",
                "title": "חזון היבשת",
                "subtitle": "מחדשנות מבודדת למערכת אחת",
                "narrative": "בשטח, אנו פוגשים לא פעם 'איים' של חדשנות: מורה אחד נלהב, מעבדה יקרה אך סגורה, או יום שיא מרשים שנגמר מהר מדי. המטרה של המשחק היא ללמוד כיצד לחבר את האיים הללו ליבשת STEM יציבה – מצב שבו החדשנות היא חלק מהתרבות, מהלו\"ז ומהפדגוגיה של כל בית הספר. המעבר 'מאיים ליבשת' הוא המפתח ליצירת למידה משמעותית ורציפה לכלל התלמידים."
            },
            {
                "icon": "🏝️",
                "title": "שלב 1: האבחון",
                "subtitle": "מזהים את האתגרים והשלכותיהם",
                "narrative": "המסע מתחיל בבחירת האיים המאפיינים את האזור שלכם. לכל אי יש 'סיבת עומק' (למה זה קורה) ו'השלכה' (מה קורה בשטח כתוצאה מכך). עליכם ללחוץ על האיים, לקרוא בעיון את האבחון ולבחור את ההשלכה המשמעותית ביותר שאתם מזהים אצלכם. רק לאחר אבחון מלא של כל האיים שבחרתם, המערכת תאפשר לכם לעבור לשלב התכנון והטיפול באתגרים."
            },
            {
                "icon": "🧰",
                "title": "שלב 2: ארגז הכלים",
                "subtitle": "גשרים פדגוגיים, ארגוניים ותרבותיים",
                "narrative": "לרשותכם עומדות 11 פרקטיקות שונות המהוות 'גשרי חיבור'. הן מחולקות לארבע קטגוריות: פדגוגיה (כמו PBL או תהליך הנדסי), מנהיגות (כמו רכז STEM), תרבות ופיתוח מקצועי. לכל גשר יש מחיר בנקודות תקציב. חלק מהגשרים הם 'גשרי זהב' – אלו הפרקטיקות המדויקות והיעילות ביותר לפתרון סוג הבעיה הספציפי שאובחן בשלב הראשון."
            },
            {
                "icon": "🌉",
                "title": "שלב 3: בניית הגשרים",
                "subtitle": "ניהול אסטרטגי תחת אילוצי תקציב",
                "narrative": "זהו שלב קבלת ההחלטות האסטרטגי. עליכם לגרור גשרים מארגז הכלים אל האיים במסגרת התקציב שקיבלתם. האם תשקיעו ב'גשר זהב' יקר שיבטיח חיבור חזק ועמוק לאי אחד, או שתפזרו את המשאבים על הרבה גשרים תומכים וזולים שיחברו הרבה איים באופן רופף יותר? זכרו - הבחירה שלכם תקבע עד כמה היבשת תהיה מלוכדת ועמידה בסוף התהליך."
            },
            {
                "icon": "📉",
                "title": "שלב 4: יישום ותוצאות",
                "subtitle": "ניתוח ההצלחה והבנת הפערים",
                "narrative": "לאחר שתפעילו את התוכנית, המערכת תחשב את אחוז ההצלחה של כל חיבור בין אי ליבשת. איים שקיבלו ציון של 80% ומעלה נחשבים לכאלו שעברו חיבור מוצלח והפכו לחלק מהיבשת. איים אדומים או צהובים מעידים על כך שהגשרים שבחרתם לא התאימו בדיוק לאבחון שעשיתם. תוכלו לראות פירוט מדויק של הניקוד: כמה נקודות הגיעו מפרקטיקות מפתח וכמה מפרקטיקות תומכות."
            },
            {
                "icon": "📝",
                "title": "שלב 5: למידה מסכמת",
                "subtitle": "מתרגמים את המשחק לתוכנית עבודה",
                "narrative": "המשחק לא נגמר בתוצאות. המערכת מציגה לכם 'תוצאה מיטבית' לכל אי – תיאור פדגוגי של המצב האידיאלי אליו אנו שואפים להגיע בכל אתגר. בנוסף, תוכלו לפתוח את 'המדריך האסטרטגי המסכם' שבו מפורטות תובנות עומק על כל אי ואי. מדריך זה נועד לעזור לכם לקחת את התובנות מהמשחק ולתרגם אותן לתוכנית התערבות אמיתית ואפקטיבית בשטח."
            },
            {
                "icon": "🚀",
                "title": "יוצאים לדרך",
                "subtitle": "היבשת שלכם ממתינה לחיבור",
                "narrative": "זכרו: המשאבים תמיד מוגבלים, והסוד להצלחה הוא באבחון מדויק של הצרכים. אל תנסו לעשות הכל בבת אחת – נסו לעשות את הדבר הנכון והמשמעותי ביותר עבור האיים שלכם. בחנו את המפה, תכננו בחוכמה, הקצו את המשאבים בזהירות ובנו יבשת STEM חזקה, מחוברת ומאוחדת שתשנה את פני החינוך. בהצלחה!"
            }
        ];

        let currentIdx = 0;
        let typingInterval = null;

        const iconBox = document.getElementById('icon-box');
        const mainTitle = document.getElementById('main-title');
        const subTitle = document.getElementById('sub-title');
        const typedOutput = document.getElementById('typed-output');
        const progressDots = document.getElementById('progress-dots');
        const chapterLabel = document.getElementById('chapter-label');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const finalAction = document.getElementById('final-action');

        function render() {
            const data = stages[currentIdx];
            const container = document.getElementById('content-container');
            container.classList.remove('fade-in');
            void container.offsetWidth;
            container.classList.add('fade-in');

            iconBox.innerText = data.icon;
            mainTitle.innerText = data.title;
            subTitle.innerText = data.subtitle;
            
            chapterLabel.innerText = currentIdx < 3 ? 'פרק א: מהות ואבחון' : 'פרק ב: אסטרטגיה ויישום';
            
            prevBtn.disabled = currentIdx === 0;
            nextBtn.disabled = currentIdx === stages.length - 1;
            finalAction.classList.toggle('hidden', currentIdx !== stages.length - 1);

            progressDots.innerHTML = '';
            stages.forEach((_, i) => {
                const dot = document.createElement('div');
                dot.className = `h-1.5 md:h-2 rounded-full transition-all duration-700 ${i === currentIdx ? 'w-8 md:w-12 bg-blue-600' : i < currentIdx ? 'w-2 md:w-3 bg-blue-200' : 'w-2 md:w-3 bg-slate-100'}`;
                progressDots.appendChild(dot);
            });

            if (typingInterval) clearInterval(typingInterval);
            typedOutput.innerHTML = '';
            let charIdx = 0;
            const fullText = data.narrative;
            const cursor = document.createElement('span');
            cursor.className = 'cursor';
            
            typingInterval = setInterval(() => {
                if (charIdx < fullText.length) {
                    typedOutput.innerText = fullText.substring(0, charIdx + 1);
                    typedOutput.appendChild(cursor);
                    charIdx++;
                } else {
                    clearInterval(typingInterval);
                    cursor.classList.add('blink');
                }
            }, 20);
        }

        nextBtn.onclick = () => { if (currentIdx < stages.length - 1) { currentIdx++; render(); } };
        prevBtn.onclick = () => { if (currentIdx > 0) { currentIdx--; render(); } };
        window.onkeydown = (e) => {
            if (e.key === 'ArrowLeft') nextBtn.onclick();
            if (e.key === 'ArrowRight') prevBtn.onclick();
        };
        render();
    </script>
</body>
</html>
